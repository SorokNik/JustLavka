{"version":3,"sources":["01_main.js"],"names":["document","addEventListener","addParallax","relocatableElem","defaultTop","defaultLeft","stepTop","stepLeft","rotateDeg","scrollBack","maxTop","oldScrollTopPosition","window","scrollTopPosition","documentElement","scrollTop","scrollY","style","transform","changeSlide","switchesList","slidesList","activeClass","switchActiveClass","removeSwitchActiveClass","min","index","max","classList","remove","forEach","switchItem","i","slide","j","add","length","changeClassAfterResize","screenWidth","elem","removedClasses","addedClass","innerWidth","item","promo","querySelector","plane","promoTracer","parallaxPhones","createShopSwitchesList","querySelectorAll","createShopSlides","advantagesSwitchesList","advantagesSlides"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,KAI5C,MAAMC,EAAc,CAACC,EAAiBC,EAAYC,EAAaC,EAASC,EAAUC,EAAWC,EAAYC,KAEvG,IAAIC,EAAuB,EAE3BC,OAAOX,iBAAiB,SAAU,KAE9B,MAAMY,EAAoBb,SAASc,gBAAgBC,UAEhDJ,EAAuBE,GAAqBT,EAAaM,IACxDN,GAA2BE,EAC3BD,GAA4BE,GAG7BI,EAAuBE,GAAqBT,IAC3CA,GAA2BE,EAC3BD,GAA4BE,GAEZ,IAAZS,SAAiBZ,EAAa,GAAKC,EAAc,KAAOI,IACxDL,EAAa,EACbC,EAAc,IAItBF,EAAgBc,MAAMC,UAAY,aAAab,SAAmBD,gBAAyBI,QAE3FG,EAAuBE,KAOzBM,EAAc,CAACC,EAAcC,EAAYC,EAAaC,KAExD,MAAMC,EAA0B,CAACC,EAAKC,EAAOC,EAAKP,EAAcG,KACzDE,EAAMC,IACLN,EAAaK,GAAKG,UAAUC,OAAON,GACnCE,GAAU,GAEXC,EAAQC,IACPP,EAAaO,GAAKC,UAAUC,OAAON,GACnCI,GAAU,GAEXD,IAAUD,GAAOC,IAAUC,GAG9BH,EAAwBC,EAAKC,EAAOC,EAAKP,EAAcG,IAG3DH,EAAaU,QAAQ,CAACC,EAAYC,KAC9BD,EAAW9B,iBAAiB,YAAa,KACrCoB,EAAWS,QAAQ,CAACG,EAAOC,KACvBH,EAAWH,UAAUO,IAAIZ,GACzBS,IAAIE,EAAID,EAAML,UAAUO,IAAIb,GAAeW,EAAML,UAAUC,OAAOP,GAClEE,EAAwB,EAAGQ,EAAGZ,EAAagB,OAAO,EAAGhB,EAAcG,UAQ7Ec,EAAyB,CAACC,EAAaC,EAAMC,EAAgBC,KAE5D7B,OAAO8B,WAAaJ,IACnBE,EAAeV,QAAQ,CAACa,EAAMX,KAC1BO,EAAKX,UAAUC,OAAOc,KAG1BJ,EAAKX,UAAUO,IAAIM,KAOnBG,EAAQ5C,SAAS6C,cAAc,UAC7BC,EAAQF,EAAMC,cAAc,iBAC5BE,EAAcH,EAAMC,cAAc,kBAClCG,EAAiBhD,SAAS6C,cAAc,oBACxCI,EAAyBjD,SAASkD,iBAAiB,yBACnDC,EAAmBnD,SAASkD,iBAAiB,4BAC7CE,EAAyBpD,SAASkD,iBAAiB,uBACnDG,EAAmBrD,SAASkD,iBAAiB,sBAInDhD,EAAY4C,EAAM,EAAG,EAAG,EAAG,EAAG,GAAG,GAAQ,IACzC5C,EAAY6C,EAAY,EAAG,EAAG,EAAG,EAAG,GAAG,GAAQ,IAC/C7C,EAAY8C,EAAgB,EAAG,EAAG,GAAK,IAAM,IAAI,GAAO,MAErDpC,OAAO8B,WAAa,KACnBxC,EAAY8C,EAAgB,EAAG,EAAG,GAAK,IAAM,IAAI,GAAO,MAG5D7B,EAAY8B,EAAwBE,EAAkB,OAAQ,uBAC9DhC,EAAYiC,EAAwBC,EAAkB,OAAQ,6BAI9DhB,EAAuB,KAAMU,EAAa,CAAC,2BAA4B,mCAAoC,mCAC3GV,EAAuB,IAAKU,EAAa,CAAC,kCAAmC,4BAA6B,mCAG1GnC,OAAOX,iBAAiB,SAAU,KAE3BW,OAAO8B,WAAa,KACnBxC,EAAY8C,EAAgB,EAAG,EAAG,GAAK,IAAM,IAAI,GAAO,MAG5DX,EAAuB,KAAMU,EAAa,CAAC,kCAAmC,mCAAoC,4BAClHV,EAAuB,KAAMU,EAAa,CAAC,2BAA4B,mCAAoC,mCAC3GV,EAAuB,IAAKU,EAAa,CAAC,kCAAmC,4BAA6B","file":"../js/main.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', ()=> {\r\n\r\n//==========ФУНКЦИЯ ДЛЯ СМЕЩЕНИЯ ЭЛЕМЕНТА ПРИ СКРОЛЛЕ ДОКУМЕНТА (ПАРАЛАКС)==========\r\n\r\n  const addParallax = (relocatableElem, defaultTop, defaultLeft, stepTop, stepLeft, rotateDeg, scrollBack, maxTop) => {\r\n\r\n    let oldScrollTopPosition = 0;\r\n\r\n    window.addEventListener('scroll', () => {\r\n\r\n        const scrollTopPosition = document.documentElement.scrollTop;\r\n\r\n        if(oldScrollTopPosition < scrollTopPosition && defaultTop > maxTop) {\r\n            defaultTop  = defaultTop - stepTop;\r\n            defaultLeft = defaultLeft + stepLeft;\r\n        }\r\n\r\n        if(oldScrollTopPosition > scrollTopPosition && defaultTop) {\r\n            defaultTop  = defaultTop + stepTop;\r\n            defaultLeft = defaultLeft - stepLeft;\r\n\r\n            if((scrollY === 0 || defaultTop < 0 || defaultLeft < 0) && !scrollBack){\r\n                defaultTop = 0;\r\n                defaultLeft = 0;\r\n            }\r\n        }\r\n        \r\n        relocatableElem.style.transform = `translate(${defaultLeft}rem, ${defaultTop}rem) rotate(${rotateDeg}deg)`;\r\n\r\n        oldScrollTopPosition = scrollTopPosition;\r\n    });\r\n  }\r\n\r\n\r\n//==========ФУНКЦИОНАЛ СЛАЙДЕРА==========\r\n\r\nconst changeSlide = (switchesList, slidesList, activeClass, switchActiveClass) => {\r\n\r\n    const removeSwitchActiveClass = (min, index, max, switchesList, switchActiveClass) => {\r\n        if(min < index) {\r\n            switchesList[min].classList.remove(switchActiveClass);\r\n            min = min+1;\r\n        }\r\n        if(index < max) {\r\n            switchesList[max].classList.remove(switchActiveClass);\r\n            max = max-1;\r\n        }\r\n        if(index === min && index === max){\r\n            return;\r\n        }\r\n        removeSwitchActiveClass(min, index, max, switchesList, switchActiveClass);\r\n    };\r\n\r\n    switchesList.forEach((switchItem, i) => {\r\n        switchItem.addEventListener('mouseover', () => {\r\n            slidesList.forEach((slide, j) => {\r\n                switchItem.classList.add(switchActiveClass);\r\n                i===j ? slide.classList.add(activeClass) : slide.classList.remove(activeClass);\r\n                removeSwitchActiveClass(0, i, switchesList.length-1, switchesList, switchActiveClass);                \r\n            });\r\n        });\r\n    });\r\n}\r\n\r\n//==========ФУНКЦИЯ ДЛЯ ДОБАВЛЕНИЯ/УДАЛЕНИЯ КЛАССОВ В ЗАВИСИМОСТИ ОТ ШИРИНЫ ОКНА(ПРИМЕНЯЕТСЯ ДЛЯ ПОЯВЛЕНИЯ ТРАССЕРА ЗА САМОЛЕТИКОМ)==========\r\n\r\nconst changeClassAfterResize = (screenWidth, elem, removedClasses, addedClass) => {\r\n\r\n    if(window.innerWidth < screenWidth) {\r\n        removedClasses.forEach((item, i) => {\r\n            elem.classList.remove(item);\r\n        });\r\n        \r\n        elem.classList.add(addedClass);\r\n\r\n    }\r\n};\r\n\r\n//==========ОБЪЯВЛЕНИЕ ПЕРЕМЕНЫХ И ВЫЗОВ ФУНКЦИЙ==========\r\n\r\n  const promo = document.querySelector('.promo'),\r\n          plane = promo.querySelector('.promo__plane'),\r\n          promoTracer = promo.querySelector('.promo__tracer'),\r\n          parallaxPhones = document.querySelector('.parallax-phones'),\r\n          createShopSwitchesList = document.querySelectorAll('.create-shop__list li'),\r\n          createShopSlides = document.querySelectorAll('.create-shop__pic-screen'),\r\n          advantagesSwitchesList = document.querySelectorAll('.advantages__switch'),\r\n          advantagesSlides = document.querySelectorAll('.advantages__slide');\r\n\r\n\r\n\r\n    addParallax(plane,0, 0, 1, 2, 0, false, -47);\r\n    addParallax(promoTracer,0, 0, 1, 2, 0, false, -47);\r\n    addParallax(parallaxPhones, 0, 0, 0.3, 0.15, 30, true, -49.5);\r\n\r\n    if(window.innerWidth < 576) {\r\n        addParallax(parallaxPhones, 0, 0, 0.1, 0.05, 30, true, -49.5);\r\n    }\r\n\r\n    changeSlide(createShopSwitchesList, createShopSlides, 'show', 'create-shop__active');\r\n    changeSlide(advantagesSwitchesList, advantagesSlides, 'show', 'advantages__switch-active');\r\n\r\n\r\n\r\n    changeClassAfterResize(1200, promoTracer, ['--svg__promo-small-curve', '--svg__promo-small-curve_mobile'], '--svg__promo-small-curve_tablet');\r\n    changeClassAfterResize(576, promoTracer, ['--svg__promo-small-curve_tablet', '--svg__promo-small-curve'], '--svg__promo-small-curve_mobile');\r\n\r\n\r\n    window.addEventListener('resize', () => {\r\n        \r\n        if(window.innerWidth < 576) {\r\n            addParallax(parallaxPhones, 0, 0, 0.1, 0.05, 30, true, -49.5);\r\n        }\r\n\r\n        changeClassAfterResize(1250, promoTracer, ['--svg__promo-small-curve_tablet', '--svg__promo-small-curve_mobile'], '--svg__promo-small-curve');\r\n        changeClassAfterResize(1200, promoTracer, ['--svg__promo-small-curve', '--svg__promo-small-curve_mobile'], '--svg__promo-small-curve_tablet');\r\n        changeClassAfterResize(576, promoTracer, ['--svg__promo-small-curve_tablet', '--svg__promo-small-curve'], '--svg__promo-small-curve_mobile');\r\n    });\r\n\r\n});"]}